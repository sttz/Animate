<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Animate </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Animate ">
    <meta name="generator" content="docfx 2.40.1.0">
    
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="animate">Animate</h1>

<p>Animate is a high-performance generic tweening engine written in C#
and optimized to use in the Unity game engine.</p>
<h3 id="introduction">Introduction</h3>
<p>What separates Animate from most other C# tweening engines is that it
uses generics for the main tweening operations. This avoids expensive
boxing of value types and casting when accessing the properties.</p>
<p>Animate also recycles its objects and uses values types where possible
to avoid creating work for the garbage collector.</p>
<p>There exist three main tweening modes, that can be used depending on
the target platform:</p>
<ul>
<li>Code generation creates accessors and arithmetic operations dynamically
as needed. This is the most convenient and pretty fast but takes
more time for warm up and is not available on AOT (IL2CPP) platforms
or with .Net Standard.</li>
<li>Reflection dynamically accesses properties and arithmetic operators.
This is convenient but slow and mostly useful during development.</li>
<li>Static mode uses pre-defined and user-provided callbacks for accessing
properties and arithmetics. This is very fast but requires a bit
of set up per property and arithmetic type.</li>
</ul>
<p>Animate provides a plugin system to extend the basic behavior. All 
the modes described above are implemented as plugins as well.</p>
<h3 id="usage">Usage</h3>
<p>The quickest way to create a tween using Animate are the 
<see cref="Animate.To"></see>, <see cref="Animate.From"></see>, 
<see cref="Animate.FromTo"></see> and <see cref="Animate.By"></see> 
methods. Those methods create a single tween that will inherit the global
options.</p>
<p>The most flexible way to create a tween is the <see cref="Animate.On"></see>
method. It returns a group with a default target, allows to create
multiple tweens in one go and define options that apply to all of those tweens.</p>
<pre><code class="lang-cs">// Shortest tween invocation, using global options:
Animate.To(transform, 5f, &quot;position&quot;, Vector3.one);

// Override options for that tween:
Animate.To(transform, 5f, &quot;position&quot;, Vector3.one)
    .Ease(Easing.QuadraticOut)
    .OnComplete((sender, args) =&gt; {
        Debug.Log(&quot;Tween completed!&quot;);
    });

// Create a group, options apply to all tweens in the group:
Animate.On(transform).Over(5f)
    .To(&quot;position&quot;, Vector3.one)
    .To(&quot;rotation&quot;, Quaternion.identity)
    .To(3f, &quot;localScale&quot;, Vector3.one)
    .Ease(Easing.QuinticInOut);

// Set options for an individual tween in the group:
Animate.On(transform).Over(5f)
    .To(&quot;position&quot;, Vector3.one)
    .To(&quot;rotation&quot;, Quaternion.identity, 
        t =&gt; t.Ease(Easing.Linear)
    )
    .Ease(Easing.QuinticInOut);
</code></pre><h3 id="options">Options</h3>
<p>A tween&#39;s options can be set on the <see cref="TweenOptions"></see> class. Options
are stacked, allowing to set an option on a global, template, group or tween&#39;s
level. Options in a lower level override their parent&#39;s options.</p>
<ul>
<li><strong>Global options</strong>: <see cref="ITweenEngine.Options"></see> (available via 
<see cref="Animate.Engine"></see>)</li>
<li><strong>Template options</strong>: Create a template using <see cref="Animate.Template"></see> 
and then use it with <see cref="Animate.On"></see> and <see cref="Animate.Group"></see>.</li>
<li><strong>Group options</strong>: Groups extend <see cref="TweenOptionsContainer.Options"></see>.</li>
<li><strong>Tween options</strong>: Tweens extend <see cref="TweenOptionsContainer.Options"></see>.</li>
</ul>
<p>For Templates, Groups and Tweens, <see cref="TweenOptionsFluid"></see> implements
the fluid interface for setting options.</p>
<p>Events are also part of the options stack, meaning that events bubble up the stack
and e.g. listening for global or a group&#39;s <see cref="TweenOptions.ErrorEvent"></see>
will trigger for any tween error globally or inside the group.</p>
<p>Events for groups and tweens are reset once the group is recycled or the tween
completes. Therefore it&#39;s typically not necessary to unregister event handlers.</p>
<p>A lot of Animate&#39;s options use flags that can be combined to define
the exact behavior. Most of those options also provide default combinations
that should cover most use cases. To combine different flags to create
your own combination, use the binary-or operator, e.g:
<code>Animate.Options.OverwriteSettings = 
    TweenOverwrite.OnStart | TweenOverwrite.Finish | TweenOverwrite.Overlapping;</code></p>
<h3 id="recycling">Recycling</h3>
<p>Groups and tweens will be recycled by default to reduce heap memory pressure.
This means you can&#39;t reuse groups or tweens and should typically just create
new groups or tweens (which will use recycled instances).</p>
<p>Note that groups from <see cref="Animate.Group"></see> and templates are not 
recycled (<see cref="TweenRecycle.Groups"></see> is unset on 
<see cref="TweenOptions.Recycle"></see>) to allow creating and reusing groups with
custom settings.</p>
<p>If you want to hold on to a tween or group, there are two main options:</p>
<ul>
<li>Increase the group&#39;s or tween&#39;s <see cref="TweenOptionsContainer.RetainCount"></see>
until you don&#39;t need it anymore and then decrease it again. This will
prevent it from being recycled for that duration.</li>
<li>Set <see cref="TweenOptions.Recycle"></see>. This allows to disable recycling for 
groups and/or tweens on any level (global, group, tween).</li>
<li>Set <see cref="ITweenEngine.Pool"></see> to <code>null</code> to disable recycling completely.</li>
</ul>
<p>You need to increase the retain count when you e.g. wait for a tween to
complete by checking it repeatedly. If not retained, the tween will be 
recycled immediately on completion and the check will return invalid information.</p>
<h3 id="default-plugins">Default Plugins</h3>
<p>Animate provides three sets of default plugins, each with different convenience,
speed and compatibility tradeoff:</p>
<ul>
<li><strong>Static</strong>: The static plugins use no reflection, are performant but require
some setup per tweened property or tween type.</li>
<li><strong>Reflection</strong>: The reflection plugin is relatively slow but works on 
AOT/IL2CPP platforms.</li>
<li><strong>Codegen</strong>: The codegen reflection plugin is fast but only works on non-AOT
platforms and not on .Net Standard.</li>
</ul>
<p>By default, reflection is disabled and only the static plugin used. Animate 
comes with static support for many Unity properties and types built-in but
will have to enable support for custom properties, types or ones not covered
by the default support.</p>
<p>To enable reflection, set the <code>ANIMATE_REFLECTION</code> compilation define (.e.g. 
in Unity&#39;s player settings). This will enable codegen where enable and fall
back to plain reflection on other platforms.</p>
<p>To extend support of the static plugin, use the <see cref="Animate.EnableAccess"></see>
and <see cref="Animate.EnableArithmetic"></see> methods to enable access to a
property or tweening a type respectively.</p>
<pre><code class="lang-cs">class Example {
    public float field;
}

// Enable tweening &quot;field&quot; on the class &quot;Example&quot;
Animate.EnableAccess(&quot;field&quot;,
    (Example t) =&gt; t.field,
    (t, v) =&gt; t.field = v);

// Add support for tweening long
Animate.EnableArithmetic&amp;lt;long&amp;gt;(
    (start, end) =&gt; end - start,
    (start, diff) =&gt; start + diff,
    (start, end, diff, position) =&gt; start + (long)(diff * (double)position)
);
</code></pre><h3 id="plugins">Plugins</h3>
<p>There are two main ways to use plugins, enabling them for automatic loading
on any options level or requiring them on a single tween.</p>
<p>The first allows the plugin to check if it&#39;s needed and load itself automatically
if that&#39;s the case. If an automatic plugin does not load, it fails silently.</p>
<p>Loading a plugin on a single tween, however, requires the plugin to be used
and an error will be raised if the plugin fails to load.</p>
<pre><code class="lang-cs">// Enable a plugin globally
Animate.Options.EnablePlugin(TweenRigidbody.Load);

// Enable a plugin for a group
Animate.On(transform).Over(5f)
    .EnablePlugin(TweenRigidbody.Load);
    .To(&quot;position&quot;, Vector3.one);

// Requiring a plugin for a tween (will raise an error if it fails)
Animate.To(transform, 5f, &quot;position&quot;, Vector3.one)
    .PluginRigidbody();
</code></pre><p>The order in which plugins are enabled matters, if multiple plugins
could be used. In case of conflict, the plugin loaded last will be
used.</p>
<p>Plugins can also be re-enabled or re-disabled on the different options levels,
i.e. a plugin can be enabled globally but disabled for a specific group.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/sttz/animate/blob/master/Docs/index.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            © 2018 Adrian Stutz
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
